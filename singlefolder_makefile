#Project name controls name of output eg project.exe project.dll
PROJECTNAME = project

#libraries to add eg myfoo.dll,bar.dll
LIBS=

#C# compiler
MCS=gmcs

#type of output exe, winexe, library, module
OUTPUTTYPE=library

#compiler flags
GMCSFLAGS = -debug 

ifeq ($(OUTPUTTYPE),exe)
	GMCSFLAGS += /target:exe
	FULLOUTPUT = $(PROJECTNAME).exe
endif
ifeq ($(OUTPUTTYPE),library)
	GMCSFLAGS += /target:library
	FULLOUTPUT = $(PROJECTNAME).dll
endif
ifeq ($(OUTPUTTYPE),winexe)
	GMCSFLAGS += /target:winexe
	FULLOUTPUT = $(PROJECTNAME).exe
endif
ifeq ($(OUTPUTTYPE),module)
	GMCSFLAGS += /target:module
	FULLOUTPUT = $(PROJECTNAME).dll
endif

all: $(FULLOUTPUT)

CSHARPFILES = $(wildcard *.cs)
SRC = $(CSHARPFILES)

$(FULLOUTPUT): $(SRC) 
	$(MCS) /out:$@ -r:$(LIBS) $(GMCSFLAGS) $(SRC)

#install: all
#       cp $(PROJECTNAME).dll /someplace	

clean:
	rm -f $(FULLOUTPUT)
	rm -f $(FULLOUTPUT).mdb

